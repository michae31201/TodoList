(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{17:function(e,t,a){e.exports=a(33)},22:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(15),i=a.n(s),o=(a(22),a(10)),r=a(3),l=a(4),m=a(6),u=a(5),d=a(7),h=a(16),p=a(11),v=function(e){var t=e.toLocaleDateString().split("/"),a=t[1],n=t[2];return a<10&&(t[1]="0"+a),n<10&&(t[2]="0"+n),t.join("-")},E=function(e){return e.toTimeString().split(" ")[0].slice(0,-3)},k=c.a.createContext(),f=a(2),b=a(8),g=a(9),y=(a(28),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={id:Date.now(),task:"",day:"",time:"",note:"",complete:!1},a.handleChange=function(e){a.setState(Object(p.a)({},e.target.id,e.target.value))},a.saveTask=function(){var e=Object(h.a)({},a.state);""!==e.task?(a.props.editData?a.context.editTask(e):a.context.addTask(e),a.props.closeEdit()):alert("\u4e8b\u9805\u4e0d\u5f97\u70ba\u7a7a")},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.editData){var e=this.props.editData,t=e.id,a=e.task,n=e.day,c=e.time,s=e.note,i=e.complete;this.setState({id:t,task:a,day:n,time:c,note:s,complete:i})}else{var o=new Date,r=v(o),l=E(o);this.setState({day:r,time:l})}}},{key:"render",value:function(){var e=this.state,t=e.task,a=e.day,n=e.time,s=e.note;return c.a.createElement("div",{className:"TaskForm"},this.props.editData?c.a.createElement("h2",null,c.a.createElement(f.a,{icon:b.b}),"\u7de8\u8f2f\u4e8b\u9805"):c.a.createElement("h2",null,c.a.createElement(f.a,{icon:b.e}),"\u65b0\u589e\u4e8b\u9805"),c.a.createElement("hr",null),c.a.createElement("div",{className:"form-input"},c.a.createElement("div",{className:"input-name"},c.a.createElement(f.a,{icon:b.e}),"\u4e8b\u9805"),c.a.createElement("input",{type:"text",className:"input-style",id:"task",value:t,required:!0,onChange:this.handleChange})),c.a.createElement("div",{className:"form-input"},c.a.createElement("div",{className:"input-name"},c.a.createElement(f.a,{icon:g.a}),c.a.createElement("span",null,"\u5230\u671f\u65e5")),c.a.createElement("input",{type:"date",className:"input-style input-time",id:"day",value:a,onChange:this.handleChange}),c.a.createElement("input",{type:"time",className:"input-style input-time",id:"time",value:n,onChange:this.handleChange})),c.a.createElement("div",{className:"form-input"},c.a.createElement("div",{className:"input-name"},c.a.createElement(f.a,{icon:g.b}),"\u5099\u8a3b"),c.a.createElement("textarea",{className:"input-style",id:"note",value:s,onChange:this.handleChange})),c.a.createElement("button",{className:"input-btn save-btn",onClick:this.saveTask},c.a.createElement(f.a,{icon:b.a}),"\u5132\u5b58"),c.a.createElement("button",{className:"input-btn cancel-btn",onClick:this.props.closeEdit},c.a.createElement(f.a,{icon:b.f}),"\u53d6\u6d88"))}}]),t}(c.a.Component));y.contextType=k;var O=y,j=(a(29),function(e){function t(){return Object(r.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.context,t=e.mode,a=e.changeMode;return c.a.createElement("div",{className:"Menu"},c.a.createElement("div",{className:"btn-group"},c.a.createElement("button",{className:"all"===t?"selectBtn":"",id:"all",onClick:a},"\u5168\u90e8",c.a.createElement("span",{className:"task-count"},this.context.tasks.length)),c.a.createElement("button",{className:"progress"===t?"selectBtn":"",id:"progress",onClick:a},"\u9032\u884c\u4e2d",c.a.createElement("span",{className:"task-count"},this.context.tasks.filter((function(e){return!e.complete})).length)),c.a.createElement("button",{className:"complete"===t?"selectBtn":"",id:"complete",onClick:a},"\u5b8c\u6210",c.a.createElement("span",{className:"task-count"},this.context.tasks.filter((function(e){return e.complete})).length))))}}]),t}(c.a.Component));j.contextType=k;var T=j,S=(a(30),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={isEdit:!1},a.openEdit=function(){a.setState({isEdit:!0})},a.closeEdit=function(){a.setState({isEdit:!1})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.task,s=t.day,i=t.time,o=t.note,r=t.complete;return this.state.isEdit?c.a.createElement(O,{editData:{id:a,task:n,day:s,time:i,note:o,complete:r},closeEdit:this.closeEdit}):c.a.createElement("div",{className:"task ".concat(r?"task-fin":"")},c.a.createElement("input",{type:"checkbox",className:"task-check",checked:r,onChange:function(t){e.context.changeTaskState(t,a)}}),c.a.createElement("button",{className:"task-edit",onClick:this.openEdit},c.a.createElement(f.a,{icon:b.b})),c.a.createElement("div",{className:"task-text"},c.a.createElement("div",{className:"task-name"},c.a.createElement(f.a,{icon:b.e}),c.a.createElement("p",null,n)),c.a.createElement("div",{className:"task-note"},c.a.createElement(f.a,{icon:g.b}),c.a.createElement("p",null,o)),c.a.createElement("div",{className:"task-time"},c.a.createElement(f.a,{icon:g.a}),c.a.createElement("p",null," \u5230\u671f\u65e5:",s," ",i))))}}]),t}(c.a.Component));S.contextType=k;var N=S,C=function(e,t,a){return e.sort((function(e,n){var c="deadline"===a?new Date("".concat(e.day," ").concat(e.time)).getTime():e.id,s="deadline"===a?new Date("".concat(n.day," ").concat(n.time)).getTime():n.id;return"min"===t?c-s:s-c}))},x=(a(31),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={search:"",sort:"min",sortType:"deadline"},a.handleSearchValue=function(e){var t=e.target.value;a.setState({search:t})},a.handleTaskSort=function(e){var t="min"===a.state.sort?"max":"min";a.setState({sort:t})},a.handleTaskSortType=function(e){var t=e.target.value;a.setState({sortType:t})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.state,a=t.search,n=t.sort,s=t.sortType;switch(this.context.mode){case"progress":e=this.context.tasks.filter((function(e){return!e.complete}));break;case"complete":e=this.context.tasks.filter((function(e){return e.complete}));break;default:e=this.context.tasks}return e=C(e,n,s),c.a.createElement("div",null,c.a.createElement("div",{className:"task-search"},c.a.createElement("input",{type:"text",placeholder:"\u641c\u5c0b...",value:a,onChange:this.handleSearchValue}),c.a.createElement("button",{onClick:this.handleTaskSort},c.a.createElement(f.a,{icon:"min"===n?b.c:b.d})),c.a.createElement("select",{value:s,onChange:this.handleTaskSortType},c.a.createElement("option",{value:"deadline"},"\u5230\u671f\u65e5"),c.a.createElement("option",{value:"addday"},"\u65b0\u589e\u65e5"))),c.a.createElement("div",{className:"tasklist"},e.filter((function(e){return e.task.includes(a)||e.note.includes(a)})).map((function(e){return c.a.createElement(N,Object.assign({key:e.id},e))}))))}}]),t}(c.a.Component));x.contextType=k;var w=x,D=(a(32),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={isEdit:!1},a.openEdit=function(){a.setState({isEdit:!0})},a.closeEdit=function(){a.setState({isEdit:!1})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.isEdit;return c.a.createElement("div",{className:"App"},c.a.createElement(T,null),e?c.a.createElement(O,{closeEdit:this.closeEdit}):c.a.createElement("div",null,c.a.createElement("button",{className:"add-btn",onClick:this.openEdit}," + "),c.a.createElement(w,null)))}}]),t}(c.a.Component));D.contextType=k;var L=D,M=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={mode:"all",tasks:[]},a.changeMode=function(e){var t=e.target.id;a.setState({mode:t})},a.addTask=function(e){var t=C([].concat(Object(o.a)(a.state.tasks),[e]),"min","deadline");a.setState({tasks:t},a.saveToLocalStorage),alert("\u65b0\u589e\u4e8b\u9805\u6210\u529f!")},a.editTask=function(e){var t=Object(o.a)(a.state.tasks),n=t.findIndex((function(t){return t.id===e.id}));t.splice(n,1,e),a.setState({tasks:C(Object(o.a)(t),"min","deadline")},a.saveToLocalStorage),alert("\u7de8\u8f2f\u4e8b\u9805\u6210\u529f!")},a.changeTaskState=function(e,t){var n=Object(o.a)(a.state.tasks),c=n.findIndex((function(e){return e.id===t}));n[c].complete=e.target.checked,a.setState({tasks:Object(o.a)(n)},a.saveToLocalStorage)},a.saveToLocalStorage=function(){var e=JSON.stringify(a.state.tasks);window.localStorage.setItem("_TodoList",e)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("_TodoList");if(e){var t=JSON.parse(e);this.setState({tasks:t})}}},{key:"render",value:function(){var e=this.state,t=e.mode,a=e.tasks,n=this.changeMode,s=this.addTask,i=this.editTask,o=this.changeTaskState;return c.a.createElement(k.Provider,{value:{mode:t,tasks:a,changeMode:n,addTask:s,editTask:i,changeTaskState:o}},c.a.createElement(L,null))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.614d58c7.chunk.js.map